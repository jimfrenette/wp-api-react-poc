!function(){"use strict";var e=window.wp.element;const{useState:t,useEffect:n}=wp.element;var l=function(){const[l,a]=t(!1),[r,u]=t([]),[c,i]=t(null),[o,s]=t(null),[d,m]=t(null);let p,E;n((()=>{f()}),[]);const f=async function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l?(t=`${l.id}/?author=${wp_api_react_poc.current_user_id}&status=any`,e=JSON.stringify(l)):t=`?author=${wp_api_react_poc.current_user_id}&status=any`,a(!0);const r=`${wp_api_react_poc.rest_url}wp/v2/posts/${t}`;try{const t=await fetch(r,{method:n,headers:{"Content-Type":"application/json","X-WP-Nonce":wp_api_react_poc.nonce},body:e}),l=await t.json();"GET"==n?u(l):_(),a(!1)}catch(e){console.log("error",e)}};function _(e){f()}return l?p=(0,e.createElement)("div",null,"Loading..."):(E=r.map(((t,n)=>(0,e.createElement)("li",null,(0,e.createElement)("a",{html:"#",onClick:e=>function(e,t){i(t.id),s(t.title.rendered),m(t.content.rendered)}(0,t)},t.title.rendered),(0,e.createElement)("a",{href:"#",title:"DELETE",onClick:e=>{f("DELETE",{id:c})}},"[â€“]")))),p=(0,e.createElement)("ul",null,E)),(0,e.createElement)("div",null,(0,e.createElement)("form",{onSubmit:e=>function(e){e.preventDefault(),f("PUT",c?{id:c,title:o,content:d,status:"publish"}:{title:o,content:d,status:"publish"})}(e)},(0,e.createElement)("div",null,(0,e.createElement)("label",null,"Title"),(0,e.createElement)("input",{type:"text",required:"","aria-required":"true",defaultValue:o||"",onChange:e=>function(e){s(e.target.value)}(e)})),(0,e.createElement)("div",null,(0,e.createElement)("label",null,"Content"),(0,e.createElement)("textarea",{rows:"8",cols:"20",defaultValue:d||"",onChange:e=>function(e){m(e.target.value)}(e)})),(0,e.createElement)("input",{type:"submit",value:"Submit"}),(0,e.createElement)("span",null,(0,e.createElement)("a",{href:"#",onClick:e=>(i(null),s(null),void m(null))},"New Post"))),p)};const{useState:a,useEffect:r}=wp.element;const{render:u}=wp.element;u((0,e.createElement)((function(){return(0,e.createElement)("div",null,(0,e.createElement)(l,null))}),null),document.getElementById("react-app"))}();