!function(){"use strict";var e=window.wp.element;const{useState:t,useEffect:n}=wp.element;var l=function(){const[l,a]=t(!1),[r,c]=t([]),[u,i]=t(null),[o,s]=t(null),[p,d]=t(null);let m,E;n((()=>{_()}),[]);const _=async function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l?(t=l.id?`${l.id}/?author=${wp_api_react_poc.current_user_id}&status=any`:`?author=${wp_api_react_poc.current_user_id}&status=any`,e=JSON.stringify(l)):t=`?author=${wp_api_react_poc.current_user_id}&status=any`,a(!0);const r=`${wp_api_react_poc.rest_url}wp/v2/posts/${t}`;try{const t=await fetch(r,{method:n,headers:{"Content-Type":"application/json","X-WP-Nonce":wp_api_react_poc.nonce},body:e}),l=await t.json();"GET"==n?c(l):f(),a(!1)}catch(e){console.log("error",e)}};function f(e){_()}return l?m=(0,e.createElement)("div",null,"Loading..."):(E=r.map((t=>(0,e.createElement)("li",null,(0,e.createElement)("a",{html:"#",onClick:e=>function(e,t){i(t.id),s(t.title.rendered),d(t.content.rendered)}(0,t)},t.title.rendered),(0,e.createElement)("a",{href:"#",title:"DELETE",onClick:e=>{_("DELETE",{id:u})}},"[â€“]")))),m=(0,e.createElement)("ul",null,E)),(0,e.createElement)("div",null,(0,e.createElement)("form",{onSubmit:e=>function(e){e.preventDefault(),_("POST",u?{id:u,title:o,content:p,status:"publish"}:{title:o,content:p,status:"publish"})}(e)},(0,e.createElement)("div",null,(0,e.createElement)("label",null,"Title"),(0,e.createElement)("input",{type:"text",required:"","aria-required":"true",value:o||"",onChange:e=>function(e){s(e.target.value)}(e)})),(0,e.createElement)("div",null,(0,e.createElement)("label",null,"Content"),(0,e.createElement)("textarea",{rows:"8",cols:"20",value:p||"",onChange:e=>function(e){d(e.target.value)}(e)})),(0,e.createElement)("input",{type:"submit",value:"Submit"}),(0,e.createElement)("span",null,(0,e.createElement)("a",{href:"#",onClick:e=>(i(null),s(null),void d(null))},"New Post"))),m)};const{render:a}=wp.element;a((0,e.createElement)((function(){return(0,e.createElement)("div",null,(0,e.createElement)(l,null))}),null),document.getElementById("react-app"))}();